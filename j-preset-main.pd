#N canvas 501 341 939 531 12;
#X obj 21 12 inlet messages;
#N canvas 363 111 509 300 receive 0;
#X obj 44 89 list split 1;
#X obj 85 145 max 0;
#X obj 85 168 i;
#X obj 44 36 r j-preset-\$1-incoming;
#X obj 85 118 - 1;
#N canvas 0 23 450 300 check-amt-of-presets 0;
#X text 77 23 check the amt;
#X obj 42 68 t b b b;
#X obj 42 187 f;
#X obj 18 6 inlet;
#X obj 42 221 outlet;
#X obj 229 45 r \$1-r-num;
#X obj 65 103 s \$1-get-num;
#X obj 227 134 >;
#X obj 227 184 f;
#X obj 227 157 sel 1;
#X msg 179 98 0;
#X obj 227 92 t a a;
#X obj 227 207 t a a, f 15;
#X connect 1 0 2 0;
#X connect 1 1 6 0;
#X connect 1 2 10 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 5 0 11 0;
#X connect 7 0 9 0;
#X connect 8 0 12 0;
#X connect 9 0 8 0;
#X connect 10 0 7 1;
#X connect 11 0 7 0;
#X connect 11 1 8 1;
#X connect 12 0 2 1;
#X connect 12 1 7 1;
#X restore 242 124 pd check-amt-of-presets;
#X obj 242 159 array size pre-temp-\$0;
#X text 241 103 make sure size matches preset amt;
#X obj 44 59 t a b, f 26;
#X text 222 13 This fills the temporary array;
#X obj 44 231 array set pre-temp-\$0;
#X connect 0 0 10 0;
#X connect 0 1 4 0;
#X connect 1 0 2 0;
#X connect 2 0 10 1;
#X connect 3 0 8 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 8 0 0 0;
#X connect 8 1 5 0;
#X restore 22 97 pd receive;
#X obj 304 312 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 503 66 r j-loadbang;
#X floatatom 453 230 5 0 0 0 - - -;
#X obj 308 344 s \$0-loc-save;
#X obj 549 119 s \$0-loc-load;
#X text 324 311 Save all scenes to disk;
#X text 609 22 arg 1: unique name;
#X text 607 42 arg 2: path to store textfiles \, relative to;
#X text 653 60 jwy-bibliothek-header;
#X obj 115 314 s \$0-local-recall;
#X obj 566 366 s \$0-local-store;
#N canvas 407 97 955 567 messages 0;
#X obj 37 77 inlet;
#N canvas 0 23 673 300 recall 0;
#X obj 21 13 inlet;
#X obj 20 65 t a b;
#X obj 20 113 until;
#X obj 20 136 i;
#X obj 54 136 + 1;
#X obj 219 19 inlet;
#X obj 219 42 text get presets-\$0;
#X obj 20 230 pack 0 0 s;
#X obj 20 159 t a a b;
#X obj 89 181 symbol \$1;
#X msg 20 253 \; j-preset-\$3-\$2-recall \$1;
#X msg 52 88 1;
#X obj 20 182 - 1;
#X obj 219 230 array set pre-temp-\$0;
#X obj 20 203 tabread pre-temp-\$0, f 25;
#X obj 265 94 f \$0;
#X msg 265 117 \; pre-temp-\$1 const 0;
#N canvas 0 23 450 300 check-amt-of-presets 0;
#X text 77 23 check the amt;
#X obj 42 68 t b b b;
#X obj 42 187 f;
#X obj 18 6 inlet;
#X obj 42 221 outlet;
#X obj 229 45 r \$1-r-num;
#X obj 65 103 s \$1-get-num;
#X obj 227 134 >;
#X obj 227 184 f;
#X obj 227 157 sel 1;
#X msg 179 98 0;
#X obj 227 92 t a a;
#X obj 227 207 t a a, f 15;
#X connect 1 0 2 0;
#X connect 1 1 6 0;
#X connect 1 2 10 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 5 0 11 0;
#X connect 7 0 9 0;
#X connect 8 0 12 0;
#X connect 9 0 8 0;
#X connect 10 0 7 1;
#X connect 11 0 7 0;
#X connect 11 1 8 1;
#X connect 12 0 2 1;
#X connect 12 1 7 1;
#X restore 242 158 pd check-amt-of-presets;
#X obj 219 68 t a b b;
#X obj 242 208 array size pre-temp-\$0;
#X obj 242 181 t f f;
#X obj 20 35 f;
#X connect 0 0 21 0;
#X connect 1 0 2 0;
#X connect 1 1 11 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X connect 6 0 18 0;
#X connect 7 0 10 0;
#X connect 8 0 12 0;
#X connect 8 1 7 1;
#X connect 8 2 9 0;
#X connect 9 0 7 2;
#X connect 11 0 3 1;
#X connect 12 0 14 0;
#X connect 14 0 7 0;
#X connect 15 0 16 0;
#X connect 17 0 20 0;
#X connect 18 0 13 0;
#X connect 18 1 17 0;
#X connect 18 2 15 0;
#X connect 20 0 19 0;
#X connect 20 1 21 1;
#X connect 21 0 1 0;
#X restore 561 333 pd recall;
#X obj 561 305 t b f, f 8;
#N canvas 0 23 802 509 store 0;
#X obj 53 305 text set presets-\$0;
#X obj 54 25 inlet;
#X obj 53 74 t b f b;
#X text 130 89 bang all presets to make sure each one is in the txt
file;
#X obj 53 254 array get pre-temp-\$0;
#N canvas 0 23 450 300 check-amt-of-presets 0;
#X text 77 23 check the amt;
#X obj 42 68 t b b b;
#X obj 42 187 f;
#X obj 18 6 inlet;
#X obj 42 221 outlet;
#X obj 229 45 r \$1-r-num;
#X obj 65 103 s \$1-get-num;
#X obj 227 134 >;
#X obj 227 184 f;
#X obj 227 157 sel 1;
#X msg 179 98 0;
#X obj 227 92 t a a;
#X obj 227 207 t a a, f 15;
#X connect 1 0 2 0;
#X connect 1 1 6 0;
#X connect 1 2 10 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 5 0 11 0;
#X connect 7 0 9 0;
#X connect 8 0 12 0;
#X connect 9 0 8 0;
#X connect 10 0 7 1;
#X connect 11 0 7 0;
#X connect 11 1 8 1;
#X connect 12 0 2 1;
#X connect 12 1 7 1;
#X restore 317 140 pd check-amt-of-presets;
#X obj 317 216 until;
#X obj 317 239 i;
#X obj 351 239 + 1;
#X msg 317 296 \; j-preset-\$2-\$1-get-param bang;
#X obj 317 269 pack 0 s;
#X obj 399 244 symbol \$1;
#X obj 317 168 t a b b, f 14;
#X msg 349 191 1;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 0 1;
#X connect 2 2 5 0;
#X connect 4 0 0 0;
#X connect 5 0 12 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 0 10 0;
#X connect 8 0 7 1;
#X connect 10 0 9 0;
#X connect 11 0 10 1;
#X connect 12 0 6 0;
#X connect 12 1 13 0;
#X connect 12 2 11 0;
#X connect 13 0 7 1;
#X restore 408 266 pd store;
#X obj 216 131 r \$0-loc-save;
#X obj 303 36 r \$0-local-store;
#X obj 539 146 r \$0-local-recall;
#X obj 529 202 i;
#X obj 394 181 i;
#X obj 529 179 max 1;
#X obj 394 158 max 1;
#X obj 350 321 s \$0-update-store;
#X obj 583 273 s \$0-update-recall;
#X obj 350 179 i;
#X obj 350 156 max 1;
#X obj 583 206 i;
#X obj 583 183 max 1;
#X obj 529 408 s local-update-amt;
#X obj 529 268 t b f;
#X obj 376 289 s local-update-amt;
#X obj 376 239 t b f;
#X obj 37 100 route load save store recall storeNew, f 116;
#X obj 193 231 s local-update-amt;
#X obj 37 191 s local-update-amt;
#X obj 726 130 r \$0-local-save-new;
#X obj 696 208 s \$0-save-new-upper;
#X obj 427 39 r \$0-save-new-upper;
#N canvas 0 23 450 300 check-amt-of-scenes 0;
#X obj 18 6 inlet;
#X obj 18 91 outlet;
#X text 67 6 check the amt of scenes;
#X obj 18 33 text size presets-\$0;
#X obj 18 63 + 1;
#X connect 0 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 696 182 pd check-amt-of-scenes;
#X obj 696 156 t b;
#N canvas 221 266 653 383 create-path 0;
#X obj 101 22 inlet;
#X obj 101 78 route bang, f 12;
#X obj 140 119 r j-path;
#X obj 101 173 makefilename %s/\$2;
#X obj 242 296 outlet;
#X text 173 20 if bang read from arg:2;
#X obj 242 130 t a b;
#X obj 274 192 makefilename %s/%%s;
#X msg 274 215 set \$1;
#X obj 242 250 makefilename;
#X obj 101 147 symbol;
#X obj 274 165 symbol;
#X obj 313 138 r j-path;
#X obj 242 104 symbol;
#X connect 0 0 1 0;
#X connect 1 0 10 0;
#X connect 1 1 13 0;
#X connect 2 0 10 1;
#X connect 3 0 4 0;
#X connect 6 0 9 0;
#X connect 6 1 11 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 4 0;
#X connect 10 0 3 0;
#X connect 11 0 7 0;
#X connect 12 0 11 1;
#X connect 13 0 6 0;
#X restore 69 156 pd create-path;
#X obj 77 506 text define presets-\$0;
#X obj 213 443 list prepend write;
#X obj 77 440 list prepend read;
#X obj 77 478 list trim;
#X text 84 355 compose the complete path with arg:2;
#X obj 37 124 t b a;
#X obj 193 170 t b a;
#N canvas 221 266 653 383 create-path 0;
#X obj 101 22 inlet;
#X obj 101 78 route bang, f 12;
#X obj 140 119 r j-path;
#X obj 101 173 makefilename %s/\$2;
#X obj 242 296 outlet;
#X text 173 20 if bang read from arg:2;
#X obj 242 130 t a b;
#X obj 274 192 makefilename %s/%%s;
#X msg 274 215 set \$1;
#X obj 242 250 makefilename;
#X obj 101 147 symbol;
#X obj 274 165 symbol;
#X obj 313 138 r j-path;
#X obj 242 104 symbol;
#X connect 0 0 1 0;
#X connect 1 0 10 0;
#X connect 1 1 13 0;
#X connect 2 0 10 1;
#X connect 3 0 4 0;
#X connect 6 0 9 0;
#X connect 6 1 11 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 4 0;
#X connect 10 0 3 0;
#X connect 11 0 7 0;
#X connect 12 0 11 1;
#X connect 13 0 6 0;
#X restore 225 194 pd create-path;
#X obj 87 123 r \$0-loc-load;
#X obj 543 502 array define pre-temp-\$0;
#X obj 433 447 tabread pre-temp-\$0;
#X floatatom 434 400 5 0 0 0 - - -;
#X floatatom 433 470 5 0 0 0 - - -;
#X obj 376 215 - 0;
#X connect 0 0 21 0;
#X connect 2 0 1 0;
#X connect 2 1 1 1;
#X connect 4 0 36 0;
#X connect 5 0 10 0;
#X connect 6 0 9 0;
#X connect 7 0 12 0;
#X connect 7 0 18 0;
#X connect 8 0 43 0;
#X connect 9 0 7 0;
#X connect 10 0 8 0;
#X connect 13 0 11 0;
#X connect 13 0 43 0;
#X connect 14 0 13 0;
#X connect 15 0 12 0;
#X connect 15 0 18 0;
#X connect 16 0 15 0;
#X connect 18 0 17 0;
#X connect 18 1 2 0;
#X connect 20 0 19 0;
#X connect 20 1 3 0;
#X connect 21 0 35 0;
#X connect 21 1 36 0;
#X connect 21 2 14 0;
#X connect 21 3 16 0;
#X connect 21 4 28 0;
#X connect 24 0 28 0;
#X connect 26 0 14 0;
#X connect 27 0 25 0;
#X connect 28 0 27 0;
#X connect 29 0 32 0;
#X connect 31 0 33 0;
#X connect 32 0 33 0;
#X connect 33 0 30 0;
#X connect 35 0 23 0;
#X connect 35 1 29 0;
#X connect 36 0 22 0;
#X connect 36 1 37 0;
#X connect 37 0 31 0;
#X connect 38 0 29 0;
#X connect 40 0 42 0;
#X connect 41 0 40 0;
#X connect 43 0 20 0;
#X restore 21 39 pd messages;
#X obj 183 128 r \$0-update-recall;
#X text 326 246 Save New Scene;
#X obj 353 82 r local-update-amt;
#X obj 353 105 t b;
#X obj 303 243 bng 20 250 50 0 empty empty empty 17 7 0 10 -261682
-1 -1;
#X obj 176 412 s \$0-local-save-new;
#N canvas 0 23 450 300 check-amt-of-scenes 0;
#X obj 18 6 inlet;
#X obj 18 71 outlet;
#X text 67 6 check the amt of scenes;
#X obj 18 33 text size presets-\$0;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X restore 353 168 pd check-amt-of-scenes;
#X obj 566 340 f;
#X obj 303 289 bng 18 250 50 0 empty empty empty 17 7 0 10 -257407
-1 -1;
#X floatatom 303 220 5 0 0 0 - - -;
#X text 341 220 Current Scene;
#X text 413 213 Total Scenes;
#N canvas 0 23 450 300 check 0;
#X text 77 23 check the amt;
#X obj 42 68 t b b b;
#X obj 42 187 f;
#X obj 18 6 inlet;
#X obj 42 221 outlet;
#X obj 229 45 r \$1-r-num;
#X obj 65 103 s \$1-get-num;
#X obj 227 134 >;
#X obj 227 184 f;
#X obj 227 157 sel 1;
#X msg 179 98 0;
#X obj 227 92 t a a;
#X obj 227 207 t a a, f 15;
#X connect 1 0 2 0;
#X connect 1 1 6 0;
#X connect 1 2 10 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 5 0 11 0;
#X connect 7 0 9 0;
#X connect 8 0 12 0;
#X connect 9 0 8 0;
#X connect 10 0 7 1;
#X connect 11 0 7 0;
#X connect 11 1 8 1;
#X connect 12 0 2 1;
#X connect 12 1 7 1;
#X restore 526 144 pd check;
#X obj 503 89 t b b b;
#N canvas 0 23 450 300 fill-up-temp-text 0;
#X obj 37 37 inlet;
#X obj 41 131 f;
#X obj 76 131 + 1;
#X obj 41 103 until;
#X obj 46 73 t a b;
#X msg 97 95 0;
#X obj 41 154 t b a;
#X msg 41 177 0;
#X obj 37 212 tabwrite pre-temp-\$0;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 0 6 0;
#X connect 2 0 1 1;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 4 1 5 0;
#X connect 5 0 1 1;
#X connect 6 0 7 0;
#X connect 6 1 8 1;
#X connect 7 0 8 0;
#X restore 526 167 pd fill-up-temp-text;
#X obj 584 219 r \$0-update-recall;
#X floatatom 433 268 5 0 0 0 - - -;
#X msg 183 183 set \$1;
#X obj 303 266 bng 20 250 50 0 empty empty empty 17 7 0 10 -204800
-1 -1;
#X text 324 288 Re-Write Current Scene;
#X obj 561 408 f;
#X obj 554 439 s \$0-local-store;
#X text 327 268 Re-Write Scene:;
#X connect 0 0 13 0;
#X connect 2 0 5 0;
#X connect 3 0 27 0;
#X connect 14 0 31 0;
#X connect 16 0 17 0;
#X connect 17 0 20 0;
#X connect 18 0 19 0;
#X connect 20 0 4 0;
#X connect 21 0 12 0;
#X connect 22 0 21 0;
#X connect 23 0 11 0;
#X connect 26 0 28 0;
#X connect 27 0 20 0;
#X connect 27 1 26 0;
#X connect 27 2 6 0;
#X connect 29 0 21 1;
#X connect 30 0 34 1;
#X connect 31 0 23 0;
#X connect 32 0 34 0;
#X connect 34 0 35 0;
#X coords 0 -1 1 1 200 130 1 300 200;
